(this["webpackJsonppaytm-insider"]=this["webpackJsonppaytm-insider"]||[]).push([[0],{34:function(e,t,n){e.exports=n(58)},39:function(e,t,n){},40:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(25),o=n.n(r),i=(n(39),n(29)),l=n(4),m=(n(40),n(33)),u=n(16),s=n(11),d=n(32),h=n(27),p=n.n(h),g=(n(43),n(28)),f=(n(55),function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),l=i[0],h=i[1],f=Object(a.useState)(!1),b=Object(s.a)(f,2),v=b[0],w=b[1],E=Object(a.useState)([]),j=Object(s.a)(E,2),O=j[0],y=j[1],x=Object(a.useState)(""),k=Object(s.a)(x,2),N=k[0],R=k[1],S=Object(a.useState)([]),C=Object(s.a)(S,2),T=C[0],U=C[1],H=Object(a.useRef)(null),L=Object(a.useRef)(null),P=Object(a.useState)([{unit:"px",x:0,y:0,aspect:1.68,width:755,height:450,recommendedWidth:755,recommendedHeight:450,cropType:"Horizontal"},{unit:"px",x:0,y:0,width:365,height:450,recommendedWidth:365,recommendedHeight:450,aspect:.81,cropType:"Vertical"},{unit:"px",x:0,y:0,width:365,height:212,recommendedWidth:365,recommendedHeight:212,aspect:1.72,cropType:"Horizontal small"},{unit:"px",x:0,y:0,aspect:1,width:380,height:380,recommendedWidth:380,recommendedHeight:380,cropType:"Gallery"}]),W=Object(s.a)(P,2),D=W[0],I=W[1],z=Object(a.useState)(0),B=Object(s.a)(z,2),F=B[0],A=B[1],J=Object(a.useCallback)((function(e){if(y([]),e.length){var t=new Image;t.addEventListener("load",(function(){1024===t.width&1024===t.height?(e.forEach((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),r(e),R("")):(r([]),R("File resolution should be 1024 x 1024"))})),t.src=URL.createObjectURL(e[0])}else r([]),R("Only image files allowed")}),[]),M=Object(d.a)({accept:"image/*",multiple:!1,onDrop:J}),G=M.getRootProps,V=M.getInputProps,$=M.isDragActive,_=function(e){"next"===e&&F<D.length-1?A(F+1):"prev"===e&&F>0&&A(F-1)},q=function(e,t){var n=D.map((function(t,n){return n===F?Object(u.a)(Object(u.a)({},t),e):t}));I(n),U([])},K=c.a.createElement("div",{className:"d-flex space-between crop-navigation"},c.a.createElement("button",{disabled:0===F,onClick:function(){return _("prev")}},"Prev"),c.a.createElement("div",{className:"crop-navigation-step"},"Step : ",F+1," / ",D.length," |"," ",D[F].cropType," | Recommended resolution : ",D[F].recommendedWidth," x ",D[F].recommendedHeight," ",c.a.createElement("button",{onClick:function(){var e=D.map((function(e,t){return t===F?Object(u.a)(Object(u.a)({},e),{},{x:0,y:0,height:e.recommendedHeight,width:e.recommendedWidth}):e}));I(e)}},"Reset to Recommended resolution")," ",c.a.createElement("button",{onClick:function(){var e=D.map((function(e,t){return function(e,t,n){var a=document.createElement("canvas");return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((function(e,t){a.toBlob((function(t){t&&(t.name=n,e(t))}),"image/jpeg")}))}(H.current,e,"config-".concat(t))}));Promise.all(e).then((function(e){var t=e.map((function(e,t){var n=D[t],a="preview ".concat(t+1," | ").concat(n.height,"x").concat(n.width);return{img:c.a.createElement("img",{key:t,src:URL.createObjectURL(e),height:n.height,width:n.width,alt:a,title:a}),blob:e}}));U(t),window.scrollTo(0,L.current.offsetTop)})).catch((function(e){console.log(e)}))}},"Preview all to upload")),c.a.createElement("button",{disabled:F===D.length-1,onClick:function(){return _("next")}},"Next")),Q=n.map((function(e){return c.a.createElement("div",{className:"thumb",key:e.name},K,c.a.createElement("img",{src:e.preview,ref:H,style:{display:"none"}}),c.a.createElement(p.a,{src:e.preview,crop:D[F],onChange:q}),K)}));return c.a.createElement("main",{className:"main-container"},c.a.createElement("div",G(),c.a.createElement("input",V()),$?c.a.createElement("p",null,"Drop the files here ..."):c.a.createElement("div",{className:"drag-and-drop-section"},c.a.createElement("p",null,"Drop your image here or select a file"))),n.length?Q:null,c.a.createElement("p",{className:"text-center text-danger"},N),T.length?c.a.createElement("div",{className:"preview-wrapper"},c.a.createElement("div",{className:"preview-controls"},c.a.createElement("h3",{ref:L},"Image Preview:")," "," ",c.a.createElement("div",{className:"upload-section"},c.a.createElement("input",{type:"text",onChange:function(e){h(e.target.value)},placeholder:"File name to save",className:"form-control"}),c.a.createElement("button",{className:"upload-btn",onClick:function(){w(!0);var e=g.storage().ref(),t=T.map((function(t,n){return e.child("/".concat(l,"-").concat(Math.random().toString(),"-").concat(D[n].cropType)).put(t.blob).then((function(e){return e.ref.getDownloadURL()}))}));Promise.all(t).then((function(e){y(Object(m.a)(e)),U([]),w(!1)})).catch((function(e){return console.log(e)}))}},"Upload to cloud!"))),c.a.createElement("div",{className:"preview-section"},T.map((function(e){return e.img})))):null,O.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"text-center"},"Click links to download"),c.a.createElement("ul",{className:"text-center download-urls"},O.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("a",{href:e,target:"_blank",download:!0},D[t].cropType," image"))})))):null,v&&c.a.createElement("div",{className:"loading"},"Uploading..."))}),b=function(){return c.a.createElement(i.a,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/",exact:!0},c.a.createElement(f,null)),c.a.createElement(l.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(31).initializeApp({}),o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.1582a4b7.chunk.js.map