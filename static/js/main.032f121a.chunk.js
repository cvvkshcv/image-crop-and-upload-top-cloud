(this["webpackJsonppaytm-insider"]=this["webpackJsonppaytm-insider"]||[]).push([[0],{33:function(e,t,a){e.exports=a(57)},38:function(e,t,a){},39:function(e,t,a){},54:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),o=a.n(r),i=(a(38),a(28)),l=a(4),m=(a(39),a(32)),s=a(11),d=a(31),u=a(26),p=a.n(u),h=(a(42),a(27)),g=(a(54),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),l=i[0],u=i[1],g=Object(n.useState)(!1),f=Object(s.a)(g,2),b=f[0],v=f[1],w=Object(n.useState)([]),E=Object(s.a)(w,2),j=E[0],y=E[1],O=Object(n.useState)(""),x=Object(s.a)(O,2),k=x[0],N=x[1],S=Object(n.useState)([]),R=Object(s.a)(S,2),C=R[0],U=R[1],I=Object(n.useRef)(null),L=Object(n.useRef)(null),W=Object(n.useState)([{unit:"px",x:0,y:0,aspect:1.68,width:755,height:450,recommendedWidth:755,recommendedHeight:450,cropType:"Horizontal"},{unit:"px",x:0,y:0,width:365,height:450,recommendedWidth:365,recommendedHeight:450,aspect:.81,cropType:"Vertical"},{unit:"px",x:0,y:0,width:365,height:212,recommendedWidth:365,recommendedHeight:212,aspect:1.72,cropType:"Horizontal small"},{unit:"px",x:0,y:0,aspect:1,width:380,height:380,recommendedWidth:380,recommendedHeight:380,cropType:"Gallery"}]),P=Object(s.a)(W,2),T=P[0],B=P[1],D=Object(n.useState)(0),H=Object(s.a)(D,2),A=H[0],M=H[1],z=Object(n.useCallback)((function(e){if(y([]),e.length){var t=new Image;t.addEventListener("load",(function(){1024===t.width&1024===t.height?(e.forEach((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),r(e),N("")):(r([]),N("File resolution should be 1024 x 1024"))})),t.src=URL.createObjectURL(e[0])}else r([]),N("Only image files allowed")}),[]),F=Object(d.a)({accept:"image/*",multiple:!1,onDrop:z}),G=F.getRootProps,J=F.getInputProps,K=F.isDragActive,V=function(e){"next"===e&&A<T.length-1?M(A+1):"prev"===e&&A>0&&M(A-1)},$=function(e,t){var a=T.map((function(t,a){return a===A?e:t}));B(a),U([])},_=c.a.createElement("div",{className:"d-flex space-between crop-navigation"},c.a.createElement("button",{disabled:0===A,onClick:function(){return V("prev")}},"Prev"),c.a.createElement("div",{className:"crop-navigation-step"},"Step : ",A+1," / ",T.length," |"," ",T[A].cropType," | Recommended resolution : ",T[A].recommendedWidth," x ",T[A].recommendedHeight," ",c.a.createElement("button",{onClick:function(){var e=T.map((function(e,t){return function(e,t,a){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((function(e,t){n.toBlob((function(t){t&&(t.name=a,e(t))}),"image/jpeg")}))}(I.current,e,"config-".concat(t))}));Promise.all(e).then((function(e){var t=e.map((function(e,t){var a=T[t],n="preview ".concat(t+1," | ").concat(a.height,"x").concat(a.width);return{img:c.a.createElement("img",{key:t,src:URL.createObjectURL(e),height:a.height,width:a.width,alt:n,title:n}),blob:e}}));U(t),window.scrollTo(0,L.current.offsetTop)})).catch((function(e){console.log(e)}))}},"Preview all")),c.a.createElement("button",{disabled:A===T.length-1,onClick:function(){return V("next")}},"Next")),q=a.map((function(e){return c.a.createElement("div",{className:"thumb",key:e.name},_,c.a.createElement("img",{src:e.preview,ref:I,style:{display:"none"}}),c.a.createElement(p.a,{src:e.preview,crop:T[A],onChange:$}),_)}));return c.a.createElement("main",{className:"main-container"},c.a.createElement("div",G(),c.a.createElement("input",J()),K?c.a.createElement("p",null,"Drop the files here ..."):c.a.createElement("div",{className:"drag-and-drop-section"},c.a.createElement("p",null,"Drop your image here or select a file"))),a.length?q:null,c.a.createElement("p",{className:"text-center text-danger"},k),C.length?c.a.createElement("div",{className:"preview-wrapper"},c.a.createElement("div",{className:"preview-controls"},c.a.createElement("h3",{ref:L},"Image Preview:")," "," ",c.a.createElement("div",{className:"upload-section"},c.a.createElement("input",{type:"text",onChange:function(e){u(e.target.value)},placeholder:"File name to save",className:"form-control"}),c.a.createElement("button",{className:"upload-btn",onClick:function(){v(!0);var e=h.storage().ref(),t=C.map((function(t,a){return e.child("/".concat(l,"-").concat(Math.random().toString(),"-").concat(T[a].cropType)).put(t.blob).then((function(e){return e.ref.getDownloadURL()}))}));Promise.all(t).then((function(e){y(Object(m.a)(e)),U([]),v(!1)})).catch((function(e){return console.log(e)}))}},"Upload to cloud!"))),c.a.createElement("div",{className:"preview-section"},C.map((function(e){return e.img})))):null,j.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"text-center"},"Click links to download"),c.a.createElement("ul",{className:"text-center download-urls"},j.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("a",{href:e,target:"_blank",download:!0},T[t].cropType," image"))})))):null,b&&c.a.createElement("div",{className:"loading"},"Uploading..."))}),f=function(){return c.a.createElement(i.a,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/",exact:!0},c.a.createElement(g,null)),c.a.createElement(l.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30).initializeApp({apiKey:"AIzaSyAkUCtDL6nGSM-FmW2PN9cAMkre1do41BM",authDomain:"image-upload-f37d4.firebaseapp.com",databaseURL:"https://image-upload-f37d4.firebaseio.com",projectId:"image-upload-f37d4",storageBucket:"image-upload-f37d4.appspot.com",messagingSenderId:"919572141671",appId:"1:919572141671:web:20fdecf5c4fdac5f54a6c2",measurementId:"G-BCC1BRGW6W"}),o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.032f121a.chunk.js.map